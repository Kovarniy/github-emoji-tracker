<app-header [title]="'Все'"
            (searchEmoji)="onSearchEmoji($event)">
</app-header>

<cdk-virtual-scroll-viewport appendOnly itemSize="12" class="virtual-scroll">
  <table class="emoji-table">
    <thead>
    <tr>
      <th class="emoji-table__name">Название</th>
      <th class="emoji-table__url">Ссылка</th>
      <th class="emoji-table__preview">Превью</th>
      <th class="emoji-table__actions" colspan="2">Действия</th>
    </tr>
    </thead>
    <tbody>
    <ng-container *ngIf="emojiList && emojiList.length > 0 ; else notData">
      <ng-container *cdkVirtualFor="let emoji of emojiList | search:neededEmojiName ">
        <tr *ngIf="!emoji.isRemoved">
          <td class="emoji-table__name-item">
            {{emoji?.name}}
          </td>
          <td class="emoji-table__url-item">
            <a [href]="emoji?.url">{{emoji?.url}}</a>
          </td>
          <td class="emoji-table__preview-item">
            <app-image-with-popover [emoji]="emoji">
            </app-image-with-popover>
          </td>
          <td class="emoji-table__actions-item">
            <fa-icon [icon]="faStar"
                     [size]="'lg'"
                     [ngClass]="{'star--clicked': emoji.isFavorite}"
                     class="clickable-element star"
                     (click)="onChangeFavoriteState(emoji)">
            </fa-icon>
          </td>
          <td class="emoji-table__actions-item">
            <fa-icon [icon]="faRemove"
                     [size]="'lg'"
                     class="clickable-element action-item"
                     (click)="onRemove(emoji)">
            </fa-icon>
          </td>
        </tr>
      </ng-container>
    </ng-container>
    </tbody>
  </table>
</cdk-virtual-scroll-viewport>

<ng-template #notData>
  <tr>
    <td colspan="5">
      Нет данных
    </td>
  </tr>
</ng-template>




